/* Gryt Keycloak Theme (login/register) */

@font-face {
  font-family: "Atkinson Hyperlegible Next";
  src: url("../fonts/AtkinsonHyperlegibleNextVF-Variable.woff2") format("woff2");
  font-weight: 200 900;
  font-style: normal;
  font-display: swap;
}

:root {
  /* Keep this close to Radix dark background (no gradients). */
  --gryt-bg: #0b0d12;
  --gryt-card: rgba(255, 255, 255, 0.06);
  --gryt-card-border: rgba(255, 255, 255, 0.10);
  --gryt-text: rgba(255, 255, 255, 0.92);
  --gryt-muted: rgba(255, 255, 255, 0.70);
  /* Default Gryt accent: Radix default is "violet" */
  --gryt-accent: #7c3aed;
  --gryt-danger: #ef4444;
}

body {
  font-family: "Atkinson Hyperlegible Next", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif !important;
  background: var(--gryt-bg) !important;
  color: var(--gryt-text) !important;
}

/* Center card (Keycloak uses PatternFly login layout) */
.login-pf,
.login-pf-page {
  min-height: 100vh !important;
}

.login-pf-page {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 24px !important;
  background: transparent !important;
}

.login-pf-page .card-pf {
  margin: 0 !important; /* prevent top offsets from base theme */
}

/* Hide default header area so centering is true */
.login-pf-page-header {
  display: none !important;
}

/* Make sure the wrapper doesn't constrain weirdly */
#kc-content,
#kc-content-wrapper {
  width: 100% !important;
  max-width: 420px !important;
}

/* Remove base theme background noise */
.login-pf-page {
  background: transparent !important;
}

.card-pf {
  background: var(--gryt-card) !important;
  border: 1px solid var(--gryt-card-border) !important;
  border-radius: 16px !important;
  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.55) !important;
  backdrop-filter: blur(14px);
}

/* Header */
#kc-header,
#kc-header-wrapper {
  display: none !important;
}

/* Title */
#kc-page-title {
  font-weight: 800 !important;
  letter-spacing: -0.02em;
}

/* Inputs */
.pf-c-form-control,
input[type="text"],
input[type="password"],
input[type="email"] {
  background: rgba(0, 0, 0, 0.25) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  color: var(--gryt-text) !important;
}

/* Fix "white squares" behind rounded inputs (input group wrappers) */
.pf-c-input-group,
.pf-c-input-group__text,
.pf-c-form-control[readonly],
.pf-c-form-control.pf-m-success,
.pf-c-form-control.pf-m-warning,
.pf-c-form-control.pf-m-error {
  background: transparent !important;
  box-shadow: none !important;
}

.pf-c-input-group__text {
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  color: var(--gryt-muted) !important;
}

/* Ensure password reveal buttons and similar don't show a white plate */
button,
.pf-c-button {
  background-color: transparent;
}

input::placeholder {
  color: rgba(255, 255, 255, 0.45) !important;
}

/* Primary button */
input[type="submit"],
.pf-c-button.pf-m-primary {
  background: var(--gryt-accent) !important; /* solid, no gradient */
  border: 1px solid rgba(255, 255, 255, 0.10) !important;
  border-radius: 12px !important;
  font-weight: 800 !important;
  letter-spacing: -0.01em;
  padding: 10px 14px !important;
}

input[type="submit"]:hover,
.pf-c-button.pf-m-primary:hover {
  filter: brightness(1.08);
}

/* Secondary links */
a {
  color: rgba(255, 255, 255, 0.86) !important;
}
a:hover {
  color: #ffffff !important;
}

/* Registration prompt: hide "New user?" text, keep link only */
/* We re-home the register link via JS into the form. Hide the original footer. */
#kc-info {
  display: none !important;
}

/* Remove password visibility toggle ("eye") */
button[data-password-toggle] {
  display: none !important;
}

/* When the toggle is hidden, ensure the password input stays nicely rounded */
.pf-c-input-group > .pf-c-form-control {
  border-top-right-radius: 12px !important;
  border-bottom-right-radius: 12px !important;
}

/* Secondary button (Create account) injected via JS */
.gryt-secondary-button {
  display: block !important;
  width: 100% !important;
  margin-top: 10px !important;
  text-align: center !important;
  text-decoration: none !important;
  padding: 10px 14px !important;
  border-radius: 12px !important;
  font-weight: 800 !important;
  letter-spacing: -0.01em;
  color: var(--gryt-text) !important;
  border: 1px solid rgba(255, 255, 255, 0.16) !important;
  background: rgba(255, 255, 255, 0.04) !important;
}
.gryt-secondary-button:hover {
  filter: brightness(1.08);
}

/* Info + errors */
.kc-feedback-text {
  color: var(--gryt-muted) !important;
}

/* Alerts (required actions like email verification use these) */
.pf-c-alert,
.alert {
  border-radius: 12px !important;
  background: rgba(0, 0, 0, 0.25) !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  color: var(--gryt-text) !important;
  box-shadow: none !important;
}

.pf-c-alert__title,
.pf-c-alert__description,
.alert,
.alert * {
  color: var(--gryt-text) !important;
}

.pf-c-alert.pf-m-danger,
.alert-danger {
  border-color: rgba(239, 68, 68, 0.55) !important;
}
.pf-c-alert.pf-m-danger .pf-c-alert__title,
.alert-danger * {
  color: #fecaca !important;
}

.pf-c-alert.pf-m-warning,
.alert-warning {
  border-color: rgba(245, 158, 11, 0.55) !important;
}
.pf-c-alert.pf-m-warning .pf-c-alert__title,
.alert-warning * {
  color: #fde68a !important;
}

.pf-c-alert.pf-m-info,
.alert-info {
  border-color: rgba(56, 189, 248, 0.45) !important;
}
.pf-c-alert.pf-m-info .pf-c-alert__title,
.alert-info * {
  color: #bae6fd !important;
}

/* Helper/instruction text on required-action pages */
.instruction {
  color: var(--gryt-muted) !important;
}

/* Terms acceptance checkbox (registration) */
.gryt-terms-group {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  gap: 8px;
  width: 100%;
  margin: 16px 0 8px;
  font-size: 13px;
  line-height: 1.5;
  color: var(--gryt-muted);
}

.gryt-terms-group input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  min-width: 18px;
  margin-top: 1px;
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 5px;
  background: rgba(0, 0, 0, 0.25);
  cursor: pointer;
  position: relative;
}

.gryt-terms-group input[type="checkbox"]:checked {
  background: var(--gryt-accent);
  border-color: var(--gryt-accent);
}

.gryt-terms-group input[type="checkbox"]:checked::after {
  content: "";
  position: absolute;
  left: 5px;
  top: 2px;
  width: 5px;
  height: 9px;
  border: solid #fff;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.gryt-terms-group input[type="checkbox"]:focus-visible {
  outline: 2px solid var(--gryt-accent);
  outline-offset: 2px;
}

.gryt-terms-group label {
  flex: 1;
  cursor: pointer;
}

.gryt-terms-group label a {
  color: rgba(255, 255, 255, 0.92) !important;
  text-decoration: underline !important;
  text-underline-offset: 2px;
}

.gryt-terms-error {
  display: none;
  width: 100%;
  font-size: 13px;
  color: var(--gryt-danger);
  margin-top: -2px;
}

.gryt-terms-error-visible .gryt-terms-error {
  display: block;
}

.gryt-terms-error-visible input[type="checkbox"] {
  border-color: var(--gryt-danger);
}

/* ===== Form labels ===== */

label,
.pf-c-form__label,
.pf-c-form__label-text {
  color: var(--gryt-muted) !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
}

/* ===== "Try another way" / Select Authenticator page ===== */

.select-auth-box-parent {
  margin-bottom: 8px !important;
}

.select-auth-box-desc {
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  padding: 16px 20px !important;
  cursor: pointer !important;
  transition: background 0.15s ease, border-color 0.15s ease;
}

.select-auth-box-desc:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.22) !important;
}

.select-auth-box-icon-properties {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
}

.select-auth-box-icon {
  color: var(--gryt-accent) !important;
  font-size: 1.4rem !important;
  flex-shrink: 0;
}

.select-auth-box-headline {
  font-weight: 700 !important;
  color: var(--gryt-text) !important;
  font-size: 1rem !important;
}

.select-auth-box-help {
  color: var(--gryt-muted) !important;
  font-size: 0.85rem !important;
  margin-top: 4px !important;
  padding-left: 36px !important;
}

/* ===== WebAuthn / Passkey key list ===== */

.kc-webauthn-keys {
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
  margin-bottom: 16px !important;
}

.kc-webauthn-key {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  padding: 14px 18px !important;
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
}

.kc-webauthn-key-icon {
  color: var(--gryt-accent) !important;
  font-size: 1.25rem !important;
  flex-shrink: 0;
}

.kc-webauthn-key-label {
  font-weight: 600 !important;
  color: var(--gryt-text) !important;
}

.kc-webauthn-key-created {
  color: var(--gryt-muted) !important;
  font-size: 0.8rem !important;
  margin-left: auto !important;
  white-space: nowrap;
}

/* ===== Username display on step-up / continuation pages ===== */

#kc-username {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.10) !important;
  border-radius: 12px !important;
  padding: 10px 16px !important;
  margin-bottom: 16px !important;
}

#kc-attempted-username {
  color: var(--gryt-text) !important;
  font-weight: 600 !important;
}

#reset-login {
  color: var(--gryt-muted) !important;
  font-size: 0.85rem !important;
}

.kc-login-tooltip {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
}

.kc-tooltip-text {
  font-size: 0.8rem !important;
  color: var(--gryt-muted) !important;
}

/* ===== "Try another way" link on login pages ===== */

#kc-select-try-another-way,
.kc-select-try-another-way-form {
  text-align: center !important;
  margin-top: 16px !important;
}

#try-another-way {
  color: var(--gryt-muted) !important;
  font-size: 0.875rem !important;
  text-decoration: underline !important;
  text-underline-offset: 2px !important;
}

#try-another-way:hover {
  color: var(--gryt-text) !important;
}

/* ===== Form options (forgot password, back to login, etc.) ===== */

#kc-form-options {
  margin-top: 12px !important;
}

#kc-form-options span,
#kc-form-options a {
  color: var(--gryt-muted) !important;
  font-size: 0.85rem !important;
}

/* ===== General heading / text / list fixes ===== */

h1, h2, h3, h4, h5, h6,
.pf-c-title {
  color: var(--gryt-text) !important;
}

p {
  color: var(--gryt-text) !important;
}

ol, ul {
  color: var(--gryt-text) !important;
  padding-left: 20px !important;
}

/* ===== Select dropdowns ===== */

select,
.pf-c-select__toggle {
  background: rgba(0, 0, 0, 0.25) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  color: var(--gryt-text) !important;
  padding: 8px 12px !important;
}

select option {
  background: #1a1d24 !important;
  color: var(--gryt-text) !important;
}

/* ===== Button variants ===== */

/* Block-width buttons (webauthn + other full-width CTAs) */
.pf-c-button.pf-m-block {
  width: 100% !important;
}

/* Link-style buttons */
.pf-c-button.pf-m-link {
  color: var(--gryt-muted) !important;
  background: transparent !important;
  border: none !important;
  padding: 6px 2px !important;
  text-decoration: underline !important;
  text-underline-offset: 2px !important;
  font-weight: 600 !important;
}

.pf-c-button.pf-m-link:hover {
  color: var(--gryt-text) !important;
}

/* Secondary / default buttons */
.pf-c-button.pf-m-secondary,
.pf-c-button.pf-m-tertiary,
.btn-default {
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.16) !important;
  border-radius: 12px !important;
  color: var(--gryt-text) !important;
  font-weight: 700 !important;
  padding: 10px 14px !important;
}

.pf-c-button.pf-m-secondary:hover,
.pf-c-button.pf-m-tertiary:hover,
.btn-default:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.24) !important;
}

/* ===== Generic checkbox styling ===== */

input[type="checkbox"]:not(#gryt-terms-checkbox) {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  min-width: 18px;
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 5px;
  background: rgba(0, 0, 0, 0.25);
  cursor: pointer;
  position: relative;
  vertical-align: middle;
}

input[type="checkbox"]:not(#gryt-terms-checkbox):checked {
  background: var(--gryt-accent);
  border-color: var(--gryt-accent);
}

input[type="checkbox"]:not(#gryt-terms-checkbox):checked::after {
  content: "";
  position: absolute;
  left: 5px;
  top: 2px;
  width: 5px;
  height: 9px;
  border: solid #fff;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

input[type="checkbox"]:not(#gryt-terms-checkbox):focus-visible {
  outline: 2px solid var(--gryt-accent);
  outline-offset: 2px;
}

/* ===== Error states on form fields ===== */

.pf-c-form__helper-text.pf-m-error,
.kc-feedback-text.pf-m-error,
span.pf-c-form__helper-text {
  color: #fca5a5 !important;
  font-size: 0.85rem !important;
}

/* ===== Remove remaining light backgrounds from PatternFly ===== */

.pf-c-page,
.pf-c-page__main,
.pf-c-login,
.pf-c-login__main {
  background: transparent !important;
}

/* Ensure all text inside the card is readable */
.card-pf,
.card-pf * {
  color: var(--gryt-text);
}

/* Keep the layout compact on wide screens */
@media (min-width: 768px) {
  .card-pf {
    width: 420px !important;
  }
}

